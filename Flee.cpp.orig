#include "Flee.hpp"
#include "Mobile.hpp"

Flee::Flee(Mobile *character, Mobile *target, double maxAcceleration) {
        this->character       = character;
        this->target          = target;
        this->maxAcceleration = maxAcceleration;
}

tuple<bool, Triple, double> Flee::getVelIncr(unsigned int ticks) {
        tuple<bool, Triple, double> steering;

<<<<<<< HEAD
	get<1>(steering) = character->pos - target->pos;
	if (get<1>(steering).length() < 3) {
		get<0>(steering) = true;
        	get<1>(steering).normalize();
        	get<1>(steering) *= maxAcceleration;
        	get<2>(steering) = 0;
	}
	else {
		get<0>(steering) = false;
	}
=======
        if ((character->pos - target->pos).length() < 3) {
                get<0>(steering) = true;
                get<1>(steering) = character->pos - target->pos;
                get<1>(steering).normalize();
                get<1>(steering) *= maxAcceleration;
                get<2>(steering) = 0;
        }
        else {
                get<0>(steering) = false;
        }
>>>>>>> 9e4a832b52dc07f9d1d4561d88d6925f842b8bc9

        return steering;
}
